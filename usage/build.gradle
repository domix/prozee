plugins {
  // Apply the groovy plugin to also add support for Groovy (needed for Spock)
  id 'groovy'
  // Apply the java-library plugin for API and implementation separation.
  id 'java-library'
  id 'idea'
  id "com.github.ben-manes.versions" version "0.41.0"
}

repositories {
  // Use Maven Central for resolving dependencies.
  mavenCentral()
}

dependencies {
  annotationProcessor project(':lib')
  implementation project(':lib')
  // Use the latest Groovy version for Spock testing
  testImplementation 'org.codehaus.groovy:groovy:3.0.9'

  // Use the awesome Spock testing and specification framework even with Java
  testImplementation 'org.spockframework:spock-core:2.1-M2-groovy-3.0'
  testImplementation 'junit:junit:4.13.2'
}

tasks.named('test') {
  // Use JUnit Platform for unit tests.
  useJUnitPlatform()
}

java {
  sourceCompatibility = JavaVersion.VERSION_17
  targetCompatibility = JavaVersion.VERSION_17
}
